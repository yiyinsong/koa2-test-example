"use strict";layui.use("layer",function(){var e=layui.jquery,c=layui.layer;e("#updateList").on("click",function(t){c.confirm("更新过程所需时间较长，是否从网易云音乐更新歌单列表？",{btn:["确定","取消"]},function(){var t=c.msg("更新列表中...",{time:0});e.ajax({type:"post",url:"/api/admin/listupdate",data:{source:"http://music.163.com/discover/playlist/?order=hot&cat=%E5%85%A8%E9%83%A8&",size:35}}).done(function(e){c.close(t),1===e.code?window.location.href="/admin/list?limit=20&offset=0":c.alert("更新失败")}).fail(function(e){console.log(e),c.alert("更新失败")})})}),e("#btnCheckAll").on("click",function(c){e(".page-list-checkitem").prop("checked",c.currentTarget.checked)}),e(".page-list-checkitem").on("click",function(c){if(c.currentTarget.checked){var t=!0;e(".page-list-checkitem").each(function(c,i){e(i).prop("checked")||(t=!1)}),t&&e("#btnCheckAll").prop("checked",!0)}else e("#btnCheckAll").prop("checked",!1)}),e("#btnRemove").on("click",function(t){var i=!1,n="";if(e(".page-list-checkitem").each(function(c,t){e(t).prop("checked")&&(i=!0,n+=","+t.value)}),!i)return c.alert("请选择要删除的歌单");var o=c.confirm("是否删除所选歌单？",{btn:["确定","取消"]},function(){c.close(o),n=n.substr(1),window.location.href="/admin/list/removeMulti?ids="+n})})});