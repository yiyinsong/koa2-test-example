"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _mongoose=require("mongoose"),_mongoose2=_interopRequireDefault(_mongoose),Schema=_mongoose2.default.Schema,UserSchema=new Schema({username:{type:String,unique:!0,required:!0},tel:{type:Number,unique:!0,required:!0},password:{type:String},icon:String,meta:{createTime:{type:Date,default:Date.now()},updateTime:{type:Date,default:Date.now()}}});UserSchema.pre("save",function(e){this.isNew?this.meta.createTime=this.meta.updateTime=Date.now():this.meta.updateTime=Date.now(),e()}),UserSchema.statics={fetch:function(){return this.find({}).sort("meta.createTime")},findByName:function(e){return this.findOne({username:e})}},exports.default=UserSchema;