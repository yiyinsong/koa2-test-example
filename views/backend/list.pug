extends ./includes/header.pug
block content
	.container
		.page-list
			.btn-block
				button.layui-btn.layui-btn-normal.layui-btn-small#updateList 从网易云音乐更新歌单
				button.layui-btn.layui-btn-danger.layui-btn-small#btnRemove 删除所选歌单
			table.layui-table(lay-skin="line")
				colgroup
					col(width="5%")
					col(width="10%")
					col(width="15%")
					col(width="10%")
					col(width="15%")
					col(width="15%")
					col(width="30%")
				thead
					th
						input.page-list-checkall#btnCheckAll(type="checkbox")
					th 封面
					th 标题
					th 播放次数
					th 作者
					th 操作
				tbody
					each item in data
						tr
							td
								input.page-list-checkitem(type="checkbox", value=item.id)
							td
								img(src=item.img)
							td=item.title
							td=item.playNum
							td=item.author
							td
								a.layui-btn.layui-btn-primary.layui-btn-small(href="#") 查看
								a.layui-btn.layui-btn-danger.layui-btn-small(href="/admin/list/remove?id=" + item.id) 删除
		.paging
			.paging-container
				a(href="/admin/list?limit="+limit+"&page=1") 首页
				a(href="/admin/list?limit="+limit+"&page="+(page == 1 ? 1 : page - 1)) 上一页
				if(total < 8)
					- for (var i=1; i<=total; i++)
						if(i == page)
							a.active(href="/admin/list?limit="+limit+"&page="+i)=i
						else
							a(href="/admin/list?limit="+limit+"&page="+i)=i
				else
					if(page < 6)
						- for (var i = 1; i<8; i++)
							if(page == i)
								a.active(href="/admin/list?limit="+limit+"&page=" + i)=i
							else
								a(href="/admin/list?limit="+limit+"&page=" + i)=i
						a(href="#") ...
					else if(page + 3 > total)
						a(href="/admin/list?limit="+limit+"&page=1") 1
						a(href="/admin/list?limit="+limit+"&page=2") 2
						a(href="#") ...
						- for (var i = total-5; i<=total; i++)
							if(page == i)
								a.active(href="/admin/list?limit="+limit+"&page=" + i)=i
							else
								a(href="/admin/list?limit="+limit+"&page=" + i)=i
					else
						a(href="/admin/list?limit="+limit+"&page=1") 1
						a(href="/admin/list?limit="+limit+"&page=2") 2
						a(href="#") ...
						a(href="/admin/list?limit="+limit+"&page="+(page-2))=page-2
						a(href="/admin/list?limit="+limit+"&page="+(page-1))=page-1
						a.active(href="/admin/list?limit="+limit+"&page="+page)=page
						a(href="/admin/list?limit="+limit+"&page="+(page+1))=page+1
						a(href="/admin/list?limit="+limit+"&page="+(page+2))=page+2
						a(href="#") ...
				a(href="/admin/list?limit="+limit+"&page="+(page == total ? total : page + 1)) 下一页 
				a(href="/admin/list?limit="+limit+"&page="+total) 尾页
	script(type="text/javascript", src="/frontend/scripts/admin.music.js")